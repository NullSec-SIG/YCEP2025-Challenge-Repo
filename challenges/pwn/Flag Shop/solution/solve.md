The way the program "deducts" money from your wallet is via the following formula:

money remaining = initial money - amount x price

The program does not check if your input is negative when buying and item, hence we can buy a negative amount of fake flags and receive money instead

Solution:

1. buy -2000 fake flags
2. buy real flag